<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <title>Bobcat Rank</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="resultsUI.css">
    <link rel="stylesheet" href="title.css">
</head>
<body>
    <!-- Include Navigation Bar -->
    <iframe id="nav-bar" src="navbar.html" style="width: 100%; height: 80px; border: none;"></iframe>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Title Section -->
        <div class="title-wrapper">
            <p class="welcome-text">Welcome to</p>
            <h1 class="site-title">BOBCAT RATES</h1>
            <p class="subtitle">The best tool to compare TXST professors and find the best ones for your courses.</p>
        </div>

        <!-- Input Fields and Button -->
        <div class="content-container">
            <div class="input-group">
                <!-- Course Prefix Input (shorter width) -->
                <div class="input-container course-prefix">
                    <input type="text" id="coursePrefix" placeholder="Prefix (e.g., CS)" oninput="handlePrefixInput(event)">
                    <div id="prefixSuggestions" class="suggestions"></div>
                </div>
                <!-- Course Number Input (takes remaining space) -->
                <div class="input-container course-number">
                    <input type="text" id="courseNumber" placeholder="Course Number (e.g., 1428)" oninput="handleNumberInput(event)">
                    <div id="numberSuggestions" class="suggestions"></div>
                </div>
            </div>
            <button onclick="redirectToResults()">Find Best Professor</button>
        </div>
    </div>

    <!-- Background Image -->
    <div class="bg-image">
        <img src="txst_BG_main.png" alt="TXST Background Image">
    </div>

    <!-- Lottie Animations Container -->
    <div id="lottie-container"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>
    <script type="module" src="firebase_initialization.js"></script>
    <script type="module" src="find_professors.js"></script>
    <script type="module" src="suggestions_menu.js"></script>
    <script type="module" src="course_number_suggestions.js"></script>

    <!-- Include Lottie Player -->
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>

    <!-- Include Main Animations Script -->
    <script src="main_animations.js"></script>

    <!-- Remove 'Home' from Navbar -->
    <script>
        document.getElementById('nav-bar').onload = function () {
            const navDoc = document.getElementById('nav-bar').contentDocument;
            if (navDoc) {
                const homeLink = navDoc.querySelector('nav ul li a[href="index.html"]');
                if (homeLink) {
                    homeLink.parentElement.remove();
                }
            }
        };
    </script>

    <!-- Redirect to Results Page -->
    <script>
        function redirectToResults() {
            const coursePrefix = document.getElementById('coursePrefix').value.trim().toUpperCase();
            const courseNumber = document.getElementById('courseNumber').value.trim();

            if (!coursePrefix || !courseNumber) {
                alert("Please enter both course prefix and number.");
                return;
            }

            // Redirect to results.html with query parameters
            window.location.href = `results.html?coursePrefix=${encodeURIComponent(coursePrefix)}&courseNumber=${encodeURIComponent(courseNumber)}`;
        }
    </script>
</body>
</html>
